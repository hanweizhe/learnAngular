<!doctype html>
<html ng-app="StartUpModule">
  <head>
    <meta charset=utf-8>
    <title>HTML5 canvas demo</title>
	<link href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.css" rel="stylesheet">
    	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.17/angular.min.js"></script>  
  </head>
  <body>
    <div class="panel panel-primary">
    	<div class="panel-heading">
    		<div class="panel-title">
    			计算金额
    		</div>
    	</div>
    	<!--生成结构 div.panel-body>div.row>div.col-md-12>form.form-horizontal>div.form-group>label.col-md-2.control-label+div.col-md-10>input.form-control -->
	<div class="panel-body">
	    	<div class="row">
	    		<div class="col-md-12">
	    			<form action="" ng-submit="requestFunding()" ng-controller = "StartUpController" class="form-horizontal">
	    				<div class="form-group">
	    					<label for="" class="col-md-2 control-label">金额</label>
	    					<div class="col-md-10">
	    					<input ng-model="funding.startingEstimate"  class="form-control" />
	    					</div>
	    				</div>
	    				<div class="form-group">
	    					<label for="" class="col-md-2 control-label">总价:</label>
	    					<div class="col-md-10">Recommendation:{{funding.needed}}</div>
	    				</div>
	    				<div class="form-group">
	    					<label for="" class="col-md-2 control-label">提交</label>
	    					<button>Fund My startup!</button>
	    					<input ng-click ="reset();" type="button" value="reset" />
	    				</div>
	    			</form>
	    		</div>
	    	</div>
	    </div>    

    </div>
  
  <script>
	var StartUpModule = angular.module('StartUpModule',[]);
	
	StartUpModule.controller('StartUpController',['$scope',function($scope){
		 $scope.funding = {startingEstimate:0};
		 var computeNeeded = function(){
		 	$scope.funding.needed =  $scope.funding.startingEstimate * 10;
		 }
		 
		 $scope.$watch('funding.startingEstimate',computeNeeded);

		 $scope.requestFunding = function(){
		 	console.log("Sorry,please get more customers first");
		 }
		 $scope.reset = function(){
		 	$scope.funding.startingEstimate = 0;

		 }
	}]);
  </script>
  </body>
</html>
