<!doctype html>
<html ng-app="MyModule">

<head>
    <meta charset="utf-8">
    <script src="js/angular-1.3.0.js"></script>
</head>

<body>
	<div ng-controller="MyCtrl">
		<loader howToload="loadData()">滑动加载</loader>
	</div>
	<div ng-controller="MyCtrl2">
		<loader howToload="loadData2();">滑动加载</loader>
	</div>
</body>
<script>
	var myModule = angular.module('MyModule',[]);
	 
	 myModule.controller('MyCtrl',['$scope',function($scope){
	 	$scope.loadData = function(){
	 		console.log('加载数据中1......');
	 	}
	 }]);
	 myModule.controller('MyCtrl2',['$scope',function($scope){
	 	$scope.loadData2 = function(){
	 		console.log('加载数据中2......');
	 	}
	 }]);

	 myModule.directive('loader',function(){
	 	return {
	 		restrict:'AE',
	 		link:function(scope,element,attr){
	 			element.bind('mouseenter',function(){
	 				//scope.loadData();
	 				//scope.$apply('loadData()');
	 				//console.log(attr.howtoload());
	 				scope.$apply(attr.howtoload);
	 				
	 			})
	 		}
	 	}
	 })
</script>
</html>
